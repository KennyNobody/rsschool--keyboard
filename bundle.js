/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/css/main.scss":
/*!***************************!*\
  !*** ./src/css/main.scss ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/css/normalize.scss":
/*!********************************!*\
  !*** ./src/css/normalize.scss ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/js/data.js":
/*!************************!*\
  !*** ./src/js/data.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dataEng": () => (/* binding */ dataEng),
/* harmony export */   "dataRus": () => (/* binding */ dataRus)
/* harmony export */ });
const dataEng = {
  Backquote: {
    value: "`",
    valueShift: "~",
    class: ["key", "key--letter", "key--dark"]
  },
  Digit1: {
    value: "1",
    valueShift: "!",
    class: ["key", "key--digit"]
  },
  Digit2: {
    value: "2",
    valueShift: "@",
    class: ["key", "key--digit"]
  },
  Digit3: {
    value: "3",
    valueShift: "#",
    class: ["key", "key--digit"]
  },
  Digit4: {
    value: "4",
    valueShift: "$",
    class: ["key", "key--digit"]
  },
  Digit5: {
    value: "5",
    valueShift: "%",
    class: ["key", "key--digit"]
  },
  Digit6: {
    value: "6",
    valueShift: "^",
    class: ["key", "key--digit"]
  },
  Digit7: {
    value: "7",
    valueShift: "&",
    class: ["key", "key--digit"]
  },
  Digit8: {
    value: "8",
    valueShift: "*",
    class: ["key", "key--digit"]
  },
  Digit9: {
    value: "9",
    valueShift: "(",
    class: ["key", "key--digit"]
  },
  Digit0: {
    value: "0",
    valueShift: ")",
    class: ["key", "key--digit"]
  },
  Minus: {
    value: "-",
    valueShift: "_",
    class: ["key", ]
  },
  Equal: {
    value: "=",
    valueShift: "+",
    class: ["key", ]
  },
  Backspace: {
    value: "Backspace",
    valueShift: "Backspace",
    class: ["key", "key--backspace", "key--dark"]
  },
  Tab: {
    value: "Tab",
    valueShift: "Tab",
    class: ["key", "key--tab", "key--dark"]
  },
  KeyQ: {
    value: "q",
    valueShift: "Q",
    class: ["key", "key--letter"]
  },
  KeyW: {
    value: "w",
    valueShift: "W",
    class: ["key", "key--letter"]
  },
  KeyE: {
    value: "e",
    valueShift: "E",
    class: ["key", "key--letter"]
  },
  KeyR: {
    value: "r",
    valueShift: "R",
    class: ["key", "key--letter"]
  },
  KeyT: {
    value: "t",
    valueShift: "T",
    class: ["key", "key--letter"]
  },
  KeyY: {
    value: "y",
    valueShift: "Y",
    class: ["key", "key--letter"]
  },
  KeyU: {
    value: "u",
    valueShift: "U",
    class: ["key", "key--letter"]
  },
  KeyI: {
    value: "i",
    valueShift: "I",
    class: ["key", "key--letter"]
  },
  KeyO: {
    value: "o",
    valueShift: "O",
    class: ["key", "key--letter"]
  },
  KeyP: {
    value: "p",
    valueShift: "P",
    class: ["key", "key--letter"]
  },
  BracketLeft: {
    value: "[",
    valueShift: "{",
    class: ["key", "key--letter"]
  },
  BracketRight: {
    value: "]",
    valueShift: "}",
    class: ["key", "key--letter"]
  },
  Backslash: {
    value: "\\",
    valueShift: "|",
    class: ["key", ]
  },
  Delete: {
    value: "Delete",
    valueShift: "Delete",
    class: ["key", "key--del", "key--dark"],
    symbol: "Del"
  },
  CapsLock: {
    value: "CapsLock",
    valueShift: "CapsLock",
    class: ["key", "key--caps", "key--dark"]
  },
  KeyA: {
    value: "a",
    valueShift: "A",
    class: ["key", "key--letter"]
  },
  KeyS: {
    value: "s",
    valueShift: "S",
    class: ["key", "key--letter"]
  },
  KeyD: {
    value: "d",
    valueShift: "D",
    class: ["key", "key--letter"]
  },
  KeyF: {
    value: "f",
    valueShift: "F",
    class: ["key", "key--letter"]
  },
  KeyG: {
    value: "g",
    valueShift: "G",
    class: ["key", "key--letter"]
  },
  KeyH: {
    value: "h",
    valueShift: "H",
    class: ["key", "key--letter"]
  },
  KeyJ: {
    value: "j",
    valueShift: "J",
    class: ["key", "key--letter"]
  },
  KeyK: {
    value: "k",
    valueShift: "K",
    class: ["key", "key--letter"]
  },
  KeyL: {
    value: "l",
    valueShift: "L",
    class: ["key", "key--letter"]
  },
  Semicolon: {
    value: ";",
    valueShift: ":",
    class: ["key", "key--letter"]
  },
  Quote: {
    value: "'",
    valueShift: '"',
    class: ["key", "key--letter"]
  },
  Enter: {
    value: "Enter",
    valueShift: "Enter",
    class: ["key", "key--enter", "key--dark"]
  },
  ShiftLeft: {
    value: "Shift",
    valueShift: "Shift",
    class: ["key", "key--shift-left", "key--dark"]
  },
  KeyZ: {
    value: "z",
    valueShift: "Z",
    class: ["key", "key--letter"]
  },
  KeyX: {
    value: "x",
    valueShift: "X",
    class: ["key", "key--letter"]
  },
  KeyC: {
    value: "c",
    valueShift: "C",
    class: ["key", "key--letter"]
  },
  KeyV: {
    value: "v",
    valueShift: "V",
    class: ["key", "key--letter"]
  },
  KeyB: {
    value: "b",
    valueShift: "B",
    class: ["key", "key--letter"]
  },
  KeyN: {
    value: "n",
    valueShift: "N",
    class: ["key", "key--letter"]
  },
  KeyM: {
    value: "m",
    valueShift: "M",
    class: ["key", "key--letter"]
  },
  Comma: {
    value: ",",
    valueShift: "<",
    class: ["key", "key--letter"]
  },
  Period: {
    value: ".",
    valueShift: ">",
    class: ["key", "key--letter"]
  },
  Slash: {
    value: "/",
    valueShift: "?",
    class: ["key", ]
  },
  ArrowUp: {
    value: "ArrowUp",
    valueShift: "ArrowUp",
    class: ["key", "key--dark", "key--arrow"],
    symbol: "&uarr;"
  },
  ShiftRight: {
    value: "Shift",
    valueShift: "Shift",
    class: ["key", "key--shift-right", "key--dark"]
  },
  ControlLeft: {
    value: "Control",
    valueShift: "Control",
    class: ["key", "key--ctrl", "key--dark"],
    symbol: "Ctrl",
  },
  MetaLeft: {
    value: "Meta",
    valueShift: "Meta",
    class: ["key", "key--dark"],
    symbol: "Win"
  },
  AltLeft: {
    value: "Alt",
    valueShift: "Alt",
    class: ["key", "key--alt", "key--dark"],
    symbol: "Alt"
  },
  Space: {
    value: " ",
    valueShift: " ",
    class: ["key", "key--space"]
  },
  AltRight: {
    value: "Alt",
    valueShift: "Alt",
    class: ["key", "key--alt", "key--dark"],
    symbol: "Alt"
  },
  ArrowLeft: {
    value: "ArrowLeft",
    valueShift: "ArrowLeft",
    class: ["key", "key--arrow", "key--dark"],
    symbol: "&larr;"
  },
  ArrowDown: {
    value: "ArrowDown",
    valueShift: "ArrowDown",
    class: ["key", "key--arrow", "key--dark"],
    symbol: "&darr;"
  },
  ArrowRight: {
    value: "ArrowRight",
    valueShift: "ArrowRight",
    class: ["key", "key--arrow", "key--dark"],
    symbol: "&rarr;"
  },
  ControlRight: {
    value: "Control",
    valueShift: "Control",
    class: ["key", "key--ctrl", "key--dark"],
    symbol: "Ctrl",
  },
};

const dataRus = {
  Backquote: {
    value: "ё",
    valueShift: "Ё",
    class: ["key", "key--letter", "key--dark"]
  },
  Digit1: {
    value: "1",
    valueShift: "!",
    class: ["key", "key--digit"]
  },
  Digit2: {
    value: "2",
    valueShift: '"',
    class: ["key", "key--digit"]
  },
  Digit3: {
    value: "3",
    valueShift: "№",
    class: ["key", "key--digit"]
  },
  Digit4: {
    value: "4",
    valueShift: ";",
    class: ["key", "key--digit"]
  },
  Digit5: {
    value: "5",
    valueShift: "%",
    class: ["key", "key--digit"]
  },
  Digit6: {
    value: "6",
    valueShift: ":",
    class: ["key", "key--digit"]
  },
  Digit7: {
    value: "7",
    valueShift: "?",
    class: ["key", "key--digit"]
  },
  Digit8: {
    value: "8",
    valueShift: "*",
    class: ["key", "key--digit"]
  },
  Digit9: {
    value: "9",
    valueShift: "(",
    class: ["key", "key--digit"]
  },
  Digit0: {
    value: "0",
    valueShift: ")",
    class: ["key", "key--digit"]
  },
  Minus: {
    value: "-",
    valueShift: "_",
    class: ["key", ]
  },
  Equal: {
    value: "=",
    valueShift: "+",
    class: ["key", ]
  },
  Backspace: {
    value: "Backspace",
    valueShift: "Backspace",
    class: ["key", "key--backspace", "key--dark"]
  },
  Tab: {
    value: "Tab",
    valueShift: "Tab",
    class: ["key", "key--tab", "key--dark"],
  },
  KeyQ: {
    value: "й",
    valueShift: "Й",
    class: ["key", "key--letter"]
  },
  KeyW: {
    value: "ц",
    valueShift: "Ц",
    class: ["key", "key--letter"]
  },
  KeyE: {
    value: "у",
    valueShift: "У",
    class: ["key", "key--letter"]
  },
  KeyR: {
    value: "к",
    valueShift: "К",
    class: ["key", "key--letter"]
  },
  KeyT: {
    value: "е",
    valueShift: "Е",
    class: ["key", "key--letter"]
  },
  KeyY: {
    value: "н",
    valueShift: "Н",
    class: ["key", "key--letter"]
  },
  KeyU: {
    value: "г",
    valueShift: "Г",
    class: ["key", "key--letter"]
  },
  KeyI: {
    value: "ш",
    valueShift: "Ш",
    class: ["key", "key--letter"]
  },
  KeyO: {
    value: "щ",
    valueShift: "Щ",
    class: ["key", "key--letter"]
  },
  KeyP: {
    value: "з",
    valueShift: "З",
    class: ["key", "key--letter"]
  },
  BracketLeft: {
    value: "х",
    valueShift: "Х",
    class: ["key", "key--letter"]
  },
  BracketRight: {
    value: "ъ",
    valueShift: "Ъ",
    class: ["key", "key--letter"]
  },
  Backslash: {
    value: "\\",
    valueShift: "/",
    class: ["key", ]
  },
  Delete: {
    value: "Delete",
    valueShift: "Delete",
    class: ["key", "key--del", "key--dark"],
    symbol: "Del"
  },
  CapsLock: {
    value: "CapsLock",
    valueShift: "CapsLock",
    class: ["key", "key--caps", "key--dark"]
  },
  KeyA: {
    value: "ф",
    valueShift: "Ф",
    class: ["key", "key--letter"]
  },
  KeyS: {
    value: "ы",
    valueShift: "Ы",
    class: ["key", "key--letter"]
  },
  KeyD: {
    value: "в",
    valueShift: "В",
    class: ["key", "key--letter"]
  },
  KeyF: {
    value: "а",
    valueShift: "А",
    class: ["key", "key--letter"]
  },
  KeyG: {
    value: "п",
    valueShift: "П",
    class: ["key", "key--letter"]
  },
  KeyH: {
    value: "р",
    valueShift: "Р",
    class: ["key", "key--letter"]
  },
  KeyJ: {
    value: "о",
    valueShift: "О",
    class: ["key", "key--letter"]
  },
  KeyK: {
    value: "л",
    valueShift: "Л",
    class: ["key", "key--letter"]
  },
  KeyL: {
    value: "д",
    valueShift: "Д",
    class: ["key", "key--letter"]
  },
  Semicolon: {
    value: "ж",
    valueShift: "Ж",
    class: ["key", "key--letter"]
  },
  Quote: {
    value: "э",
    valueShift: "Э",
    class: ["key", "key--letter"]
  },
  Enter: {
    value: "Enter",
    valueShift: "Enter",
    class: ["key", "key--enter", "key--dark"]
  },
  ShiftLeft: {
    value: "Shift",
    valueShift: "Shift",
    class: ["key", "key--shift-left", "key--dark"]
  },
  KeyZ: {
    value: "я",
    valueShift: "Я",
    class: ["key", "key--letter"]
  },
  KeyX: {
    value: "ч",
    valueShift: "Ч",
    class: ["key", "key--letter"]
  },
  KeyC: {
    value: "с",
    valueShift: "С",
    class: ["key", "key--letter"]
  },
  KeyV: {
    value: "м",
    valueShift: "М",
    class: ["key", "key--letter"]
  },
  KeyB: {
    value: "и",
    valueShift: "И",
    class: ["key", "key--letter"]
  },
  KeyN: {
    value: "т",
    valueShift: "Т",
    class: ["key", "key--letter"]
  },
  KeyM: {
    value: "ь",
    valueShift: "Ь",
    class: ["key", "key--letter"]
  },
  Comma: {
    value: "б",
    valueShift: "Б",
    class: ["key", "key--letter"]
  },
  Period: {
    value: "ю",
    valueShift: "Ю",
    class: ["key", "key--letter"]
  },
  Slash: {
    value: ".",
    valueShift: ",",
    class: ["key", "key--letter"]
  },
  ArrowUp: {
    value: "ArrowUp",
    valueShift: "ArrowUp",
    class: ["key", "key--arrow", "key--dark"],
    symbol: "&uarr;"
  },
  ShiftRight: {
    value: "Shift",
    valueShift: "Shift",
    class: ["key", "key--shift-left", "key--dark"]
  },
  ControlLeft: {
    value: "Control",
    valueShift: "Control",
    class: ["key", "key--ctrl", "key--dark"],
    symbol: "Ctrl",
  },
  MetaLeft: {
    value: "Meta",
    valueShift: "Meta",
    class: ["key", "key--dark"],
    symbol: "Win"
  },
  AltLeft: {
    value: "Alt",
    valueShift: "Alt",
    class: ["key", "key--alt", "key--dark"],
    symbol: "Alt"
  },
  Space: {
    value: " ",
    valueShift: " ",
    class: ["key", "key--space"]
  },
  AltRight: {
    value: "Alt",
    valueShift: "Alt",
    class: ["key", "key--alt", "key--dark"],
    symbol: "Alt"
  },
  ArrowLeft: {
    value: "ArrowLeft",
    valueShift: "ArrowLeft",
    class: ["key", "key--arrow", "key--dark"],
    symbol: "&larr;"
  },
  ArrowDown: {
    value: "ArrowDown",
    valueShift: "ArrowDown",
    class: ["key", "key--arrow", "key--dark"],
    symbol: "&darr;"
  },
  ArrowRight: {
    value: "ArrowRight",
    valueShift: "ArrowRight",
    class: ["key", "key--arrow", "key--dark"],
    symbol: "&rarr;"
  },
  ControlRight: {
    value: "Control",
    valueShift: "Control",
    class: ["key", "key--ctrl", "key--dark"],
    symbol: "Ctrl",
  },
};


/***/ }),

/***/ "./src/js/keyboard.js":
/*!****************************!*\
  !*** ./src/js/keyboard.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data */ "./src/js/data.js");


class Keyboard {
  constructor() {
    this.flagCaps = false;
    this.flagShift = false;
    this.flagCtrl = false;
    this.lang = null;
    this.wrap = null;
    this.copyboard = "";

    this.init();
  }

  init() {

    this.createDOM();
    this.createDescription();

    document.addEventListener('keydown', (e) => {
      this.keyboardEventEnable(e);
    });

    document.addEventListener('keyup', (e) => {
      this.keyboardEventDisable(e);
    });

    this.someKeys();
    this.getLanguage()
  }

  createDOM = () => {
    this.wrap = null;
    this.wrap = document.createElement("div");
    this.wrap.classList.add("keyboard");

    this.textarea = document.createElement("textarea");
    this.textarea.classList.add("keyboard__textarea");
    this.wrap.appendChild(this.textarea);

    this.keyboard = document.createElement("div");
    this.keyboard.classList.add("keyboard__control");
    this.wrap.appendChild(this.keyboard);

    this.keyboard.addEventListener("click", (e) => {
      this.mouseEvent(e);
    });

    document.body.appendChild(this.wrap);
  }

  cleanDOM = () => {
    this.keyboard.innerHTML = "";
  }

  getLanguage = () => {
    const langStorage = localStorage.getItem("language");
    let lang = "eng";

    if (langStorage) {
      lang = langStorage;
    }

    this.addKeyboard(lang);
  }

  addKeyboard(langKeyboard) {
    this.lang = langKeyboard;

    if (langKeyboard === "eng") {
      this.keyLang = _data__WEBPACK_IMPORTED_MODULE_0__.dataEng
    } else {
      this.keyLang = _data__WEBPACK_IMPORTED_MODULE_0__.dataRus
    }

    Object.keys(this.keyLang).forEach((keyCode) => {
      this[keyCode] = document.createElement("div");
      this[keyCode].setAttribute("id", `${keyCode}`);

      if (this.keyLang[keyCode].symbol) {
        this[keyCode].innerHTML = this.keyLang[keyCode].symbol;
      } else {
        this[keyCode].innerHTML = `${this.keyLang[keyCode].value}`;
      }

      /* eslint-disable-next-line */
      for (const i of this.keyLang[keyCode].class) {
        this[keyCode].classList.add(i);
      }

      this.keyboard.appendChild(this[keyCode]);
    });
  }

  createDescription = () => {
    const footerNode = document.createElement("div");
    footerNode.classList.add('keyboard__info');

    const message = `
      <p>Тестировалось в Chrome для Windows (версия 101.0.4951.54)</p>
      <p>Переключение языка: <strong>LShift + LAlt</strong></p>
      <p>Связаться: <a href="https://t.me/Kenny_Nobody">Kenny_Nobody</a></p>
    `;

    footerNode.innerHTML = message;
    this.wrap.prepend(footerNode);
  }

  handleEnter = () => {
    const start = this.getPosition('start');
    const end = this.getPosition('end');
    const text = `${this.textarea.value.substring(0, start)}\n${this.textarea.value.substring(end)}`;

    this.textarea.value = text;
    this.textarea.focus();
    this.textarea.selectionEnd = this.getPosition('end') - this.textarea.value.substring(end).length + 1;
    this.textarea.selectionStart = this.getPosition('end') - this.textarea.value.substring(end).length + 1;
  }

  handleCapsLock = (keyDown) => {
    if (!this.flagCaps) {
      for (let k = 0; k < this.keyboard.children.length; k += 1) {
        const key = this.keyboard.children[k];
        if (key.classList.contains("key--letter")) {
          key.textContent = key.textContent.toUpperCase();
        }
      }
    } else {
      keyDown.classList.remove("key--active");

      for (let k = 0; k < this.keyboard.children.length; k += 1) {
        const key = this.keyboard.children[k];
        if (key.classList.contains("key--letter")) {
          key.textContent = key.textContent.toLowerCase();
        }
      }
    }
    this.flagCaps = !this.flagCaps;
  }

  handleTab = () => {
    const start = this.getPosition('start');
    const end = this.getPosition('end');
    const tabSymbol = "    ";
    const text = this.textarea.value.substring(0, start) + tabSymbol + this.textarea.value.substring(end);

    this.textarea.value = text;
    this.textarea.focus();
    this.textarea.selectionEnd = start === end ? end + tabSymbol.length : end;
  }

  handleDelete = () => {
    const start = this.getPosition('start');
    const end = this.getPosition('end');

    const text = (start === end) ? this.textarea.value.substring(0, start) + this.textarea.value.substring(end + 1) : this.textarea.value.substring(0, start) + this.textarea.value.substring(end);

    this.textarea.value = text;
    this.textarea.focus();
    this.textarea.selectionEnd = start;
    this.textarea.selectionStart = start;
  }

  handleArrowLeft = () => {
    const start = this.getPosition('start');

    if (start) {
      this.textarea.selectionEnd = start - 1;
      this.textarea.selectionStart = start - 1;
    }
  }

  handleArrowRight = () => {
    const start = this.getPosition('start');
    const end = this.getPosition('end');

    if (this.flagShift === true) {
      this.textarea.selectionEnd = end + 1;
    } else {
      this.textarea.selectionEnd = start + 1;
      this.textarea.selectionStart = start + 1;
    }
  }

  handleArrowUp = () => {
    const start = this.getPosition('start');
    const end = this.getPosition('end');
    const text = `${this.textarea.value.substring(0, start)}↑${this.textarea.value.substring(end)}`;

    this.setText(text);
    this.textarea.selectionEnd = (start === end) ? end + 1 : end;
  }

  handleArrowDown = () => {
    const start = this.getPosition('start');
    const end = this.getPosition('end');
    const text = `${this.textarea.value.substring(0, start)}↓${this.textarea.value.substring(end)}`;

    this.setText(text);
    this.textarea.selectionEnd = (start === end) ? end + 1 : end;
  }

  handleBackspace = () => {
    const start = this.getPosition('start');
    const end = this.getPosition('end');

    if (start !== 0) {
      const text = (start === end) ? this.textarea.value.substring(0, start - 1) + this.textarea.value.substring(end) : this.textarea.value.substring(0, start) + this.textarea.value.substring(end);

      this.textarea.value = text;
      this.textarea.focus();
      this.textarea.selectionEnd = start - 1;
      this.textarea.selectionStart = start - 1;
    }
  }

  getPosition = (pos) => {
    if (pos === "start") {
      return this.textarea.selectionStart;
    } if (pos === "end") {
      return this.textarea.selectionEnd;
    } 
      return false;
    
  }

  setText = (text) => {
    this.textarea.value = text;
    this.textarea.focus();
  }

  keyHandle = (keyDown) => {

    const { flagShift } = this;
    // const { flagCtrl } = this;
    const keyCode = keyDown.getAttribute("id");
    const { value } = this.keyLang[keyCode];
    const { valueShift } = this.keyLang[keyCode];
    const start = this.getPosition('start');
    const end = this.getPosition('end');

    keyDown.classList.add("key--active");
    this.textarea.focus();

    if (keyCode === "Enter") {
      this.handleEnter();
    } else if (keyCode === "CapsLock") {
      this.handleCapsLock(keyDown);
    } else if (keyCode === "Tab") {
      this.handleTab();
    } else if (keyCode === "Delete") {
      this.handleDelete();
    } else if (keyCode === "ArrowLeft") {
      this.handleArrowLeft();
    } else if (keyCode === "ArrowRight") {
      this.handleArrowRight();
    } else if (keyCode === "ArrowUp") {
      this.handleArrowUp();
    } else if (keyCode === "ArrowDown") {
      this.handleArrowDown();
    } else if (keyCode === "Backspace") {
      this.handleBackspace();
    } else if (flagShift === true && keyCode === "AltLeft") {
      this.changeLanguage();
      this.flagShift = false;
      this.ShiftLeft.classList.remove("key--active");
      this.ShiftRight.classList.remove("key--active");
    } else if (!keyCode.includes("Shift") && !keyCode.includes("Control") && !keyCode.includes("Alt") && !keyCode.includes("Meta")) {

      const inputSymbol = !this.flagCaps ? value : value.toUpperCase();
      const newSymbol = (flagShift === true) ? valueShift : inputSymbol;
      const text = this.textarea.value.substring(0, start) + newSymbol + this.textarea.value.substring(end);

      this.setText(text);
      this.textarea.selectionEnd = (start === end) ? end + newSymbol.length : end;
    }
  }

  keyboardEventEnable = (event) => {
    const keyDown = this[event.code];

    if (!event.code.includes("Shift") && event.flagShift) this.flagShift = true;
    if (!event.code.includes("Control") && event.flagCtrl) this.flagCtrl = true;

    if (keyDown != null) {
      event.preventDefault();
      this.keyHandle(keyDown);
    }
  }

  keyboardEventDisable = (event) => {
    const keyUp = this[event.code];

    if (event.code.includes("Shift")) {
      this.flagShift = false;
      this.ShiftLeft.classList.remove("key--active");
      this.ShiftRight.classList.remove("key--active");
    }

    if (event.code.includes("Control")) {
      this.flagCtrl = false;
      this.ControlLeft.classList.remove("key--active");
      this.ControlRight.classList.remove("key--active");
    }
    if (keyUp != null && event.code !== "CapsLock") {
      keyUp.classList.remove("key--active");
    }
  }

  mouseEvent = (event) => {
    event.stopImmediatePropagation();
    event.preventDefault();

    const keyCode = event.target.getAttribute("id");

    if (!keyCode) return null;

    if (keyCode.includes("Shift")) {
      if (this.ShiftLeft.classList.contains("key--active") || this.ShiftRight.classList.contains("key--active")) {
        this.flagShift = false;
        this.ShiftLeft.classList.remove("key--active");
        this.ShiftRight.classList.remove("key--active");
      } else {
        this.flagShift = true;
      }
    }

    if (keyCode.includes("Control")) {
      if (
        this.ControlLeft.classList.contains("key--active") ||
        this.ControlRight.classList.contains("key--active")
      ) {
        this.flagCtrl = false;
        this.ControlLeft.classList.remove("key--active");
        this.ControlRight.classList.remove("key--active");
      } else this.flagCtrl = true;
    }

    this.keyHandle(event.target);

    if (keyCode !== "CapsLock" && !keyCode.includes("Shift") && !keyCode.includes("Control")) {
      event.target.classList.remove("key--active");
    }

    if (keyCode.includes("Shift") && !this.flagShift) {
      event.target.classList.remove("key--active");
    }

    if (keyCode.includes("Control") && !this.flagCtrl) {
      event.target.classList.remove("key--active");
    }

    return false;
  }

  changeLanguage = () => {
    if (this.lang === 'eng') {
      this.lang = "rus";
    } else {
      this.lang = "eng";
    }

    localStorage.setItem("language", this.lang);

    this.cleanDOM();
    this.addKeyboard(this.lang);
  }

  someKeys = () => {
    const pressed = new Set();

    document.addEventListener("keydown", (event) => {
      event.preventDefault();
      pressed.add(event.code);

      if (pressed.has("ShiftLeft") && pressed.has("AltLeft")) {
        pressed.clear();
        this.changeLanguage();
      }
    });

    document.addEventListener("keyup", (event) => {
      pressed.delete(event.code);
    });
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Keyboard);


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _css_normalize_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../css/normalize.scss */ "./src/css/normalize.scss");
/* harmony import */ var _css_main_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../css/main.scss */ "./src/css/main.scss");
/* harmony import */ var _keyboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./keyboard */ "./src/js/keyboard.js");




document.addEventListener('DOMContentLoaded', () => {
  window.app = new _keyboard__WEBPACK_IMPORTED_MODULE_2__["default"]();
});
})();

/******/ })()
;